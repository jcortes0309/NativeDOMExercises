<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>event bubbling</title>
    <script>
    /*
    This is a todo list app. Clicking the
    "remove" button should remove the
    corresponding li from the list.

    Typing a task description into #input-field and then clicking #add-button should add a new li with
    the task description and a remove button
    into #tasks.
    */
    window.addEventListener("load", function() {
      var new_task = document.getElementById("input-field");
      var button = document.getElementById("add-button");
      var list = document.getElementById("tasks");

      button.addEventListener("click", function(event) {
        var li = document.createElement("li");
        li.innerHTML = new_task.value + " <button class='remove'>remove</button>";
        list.appendChild(li);
        new_task.value = '';
      });

      document.body.addEventListener("click", function(event) {
        if (event.target.matches(".remove")) {
          var removeButton = event.target;
          var li = removeButton.parentElement;
          var ul = li.parentElement;
          ul.removeChild(li);
        }
      });
    });
    </script>
  </head>
  <body>
    <input id="input-field" type="text">
    <button id="add-button">Add</button>
    <ul id="tasks">
      <li>Water plants
        <button class="remove">remove</button>
      </li>
      <li>Homework
        <button class="remove">remove</button>
      </li>
    </ul>
  </body>
</html>
